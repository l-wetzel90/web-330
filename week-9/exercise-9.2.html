<!--
============================================
; Title:  Exercise 9.2
; Author: Loren Wetzel
; Date:   4 October 2019
; Modified By:
; Description: Demonstrate MVC with backbone
;===========================================
-->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Wetzel Exercise 9.2</title>

  <!-- Stylesheet - Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
    integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous" />

  <!-- JavaScript references -->
  <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
</head>

<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
  <a href="#" class="navbar-brand">Wetzel Exercise 9.2</a>
  <ul class="navbar-nav">
    <li class="nav-item active">
      <a href="#" class="nav-link">Home</a>
    </li>
    <li class="nav-item">
      <a href="#" class="nav-link">About?</a>
    </li>
    <li class="nav-item">
      <a href="#" class="nav-link">Contact Us?</a>
    </li>
  </ul>
</nav>

<body>

  <div class="container">
    <br>
    <h2>Wetzel MVC Employee Model</h2>

    <p class="lead">Models and Controllers</p>

    <div class="row">
      <div class="col-sm-9">
        <table class="table table-dark table-striped table-hover">
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Salary</th>
            </tr>
          </thead>
          <tbody id="table-body"></tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    function Employee(id, name, salary) {
      this.id = id;
      this.name = name;
      this.salary = salary;
    };

    var EmployeeModel = Backbone.Model.extend({
      defaults: {
        id: "",
        name: "",
        salary: 0
      }
    });

    var EmployeeCollection = Backbone.Collection.extend({
      model: EmployeeModel
    });

    var Employees = new EmployeeCollection();
    Employees.add(new Employee("158", "Loren", 100000));
    Employees.add(new Employee("159", "Romeo", 70000));
    Employees.add(new Employee("160", "Ashton", 50000));
    Employees.add(new Employee("161", "Aurora", 30000));
    Employees.add(new Employee("162", "Ray", 10000));

    Employees.each(function (employee) {
      $("#table-body").append(
        "<tr>" +
        "<td>" +
        employee.get("id") +
        "</td>"+
        "<td>" +
        employee.get("name") +
        "</td>" +
        "<td>" +
        "$" + employee.get("salary").toLocaleString() +
        "</td>" +
        "</tr>"
      );
    });
  </script>
</body>

</html>
